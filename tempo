def summarize(text, focus_terms=None, max_length=1024):
    try:

        # Pré-filtrage des phrases importantes si focus_terms donné
        if focus_terms:
            sentences = [s for s in text.split('.') 
                        if any(term.lower() in s.lower() for term in focus_terms)]
            text = '. '.join(sentences)[:2000] or text[:2000]

        # Nettoyage : garder seulement les mots non-stopwords
        # On convertit en minuscules, puis on filtre mots
        words = re.findall(r"\b\w+\b", text.lower())  # Extraire mots uniquement
        filtered_words = [w for w in words if w not in french_stop_words]

        # Reconstituer le texte filtré
        filtered_text = ' '.join(filtered_words)

        # Résumé avec le texte filtré
        result = summarizer(
            filtered_text,
            max_length=max_length,
            min_length=max_length // 2,
            no_repeat_ngram_size=3,
            do_sample=False,
            truncation=True
        )
        return clean_french(result[0]['summary_text'])

    except Exception as e:
        print(f"Erreur summarization : {e}")
        return text[:max_length] + "... [résumé tronqué]"
    
    Comment la photocatalyse rédox est actuellement appliquée en "drug discovery" du secteur pharmaceutique ?